import os
import requests
import time

from todoist.api import TodoistAPI
from datetime import datetime

TODOIST_API_KEY = os.getenv('TODOIST_API_TOKEN')
todoistIcon = 'iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAMKGlDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnluSkJDQAqFD6E2UIl1qaBEEpAo2QhJIKCEmBBU7sqjAWlCxYEVXRRRdCyCLDQu2RbH3ByIqyirqYkPlTRJAV7_33vfO9829_z1z5pz_nDsz3wwA6jEcsTgb1QAgR5QniQ0LYk5ITmGSHgEEEAAZMIEDhysVB8bERAIoQ+9_yrub0BrKNUe5r5_7_6to8vhSLgBIDMRpPCk3B+JDAODuXLEkDwBCD9RbTM8TQ0yELIG2BBKE2FKOM5TYU47TlDhSYRMfy4I4FQAVKocjyQBATc6Lmc_NgH7UyiB2EvGEIoibIPbjCjg8iD9DPCInJxdidVuIbdO+85PxD59pwz45nIxhrMxFISrBQqk4mzPz_yzH_5acbNlQDAvYqAJJeKw8Z3ndsnIj5JgK8TlRWlQ0xFoQXxfyFPZy_EQgC08YtP_AlbJgzQADAJTK4wRHQGwEsbkoOypyUO+XLgxlQwxrj8YL89jxyrEoT5IbO+gfncGXhsQNYY5EEUtuUyLLSggc9LlJwGcP+WwsEMQnKXmiV_KFiVEQq0F8X5oVFzFo87xAwIoaspHIYuWc4T_HQLokNFZpg1nmSIfywrwFQnbUII7ME8SHK8diU7gcBTc9iDP50gmRQzx5_OAQZV5YIV+UMMgfKxfnBcUO2m8XZ8cM2mNN_Owwud4c4lZpftzQ2N48ONmU+eJAnBcTr+SGa2dyxsYoOeD2IBKwQDBcTTLY0kAuyATC1p76Hvil7AkFHCABGYAPHAc1QyOSFD0i+IwDBeAviPhAOjwuSNHLB_lQ_2VYq3w6gnRFb75iRBZ4AnEOiADZ8FumGCUajpYIHkON8KfoXMg1GzZ53086pvqQjhhCDCaGE0OJdrgB7of74JHwGQCbC+6Jew3x+mZPeEJoIzwi3CC0E+5MFRZKfmDOBONAO+QYOphd2vfZ4dbQqxsehPtC_9A3zsANgCM+GkYKxP1hbDeo_Z6rbDjjb7Uc9EV2IqNkXXIA2fZHBmr2am7DXuSV+r4WSl5pw9ViDff8mAfru_rx4DviR0tsMXYQa8FOYuexJqweMLHjWAN2CTsqx8Nz47FibgxFi1XwyYJ+hD_F4wzGlFdN6lTj1O30ebAP5PFn5MkXCytXPFMizBDkMQPhbs1nskXckSOYLk7OcBeV7_3KreUtQ7GnI4wL33SFqQD4mg4MDDR900XCveiwIQCUV990tnQAaGcBOFfIlUnylTpc_iAAClCHK0UfmMC9yxZm5ALcgQ8IACFgLIgG8SAZTIF1FsB5KgHTwWywABSDUrAcrAbrwWawDewCe8EBUA+awElwFlwEV8ANcA_OlS7wAvSCd6AfQRASQkPoiD5iilghDogL4on4ISFIJBKLJCOpSAYiQmTIbGQhUoqUI+uRrUg18jtyBDmJnEfakDtIB9KNvEE+oRhKRbVRY9QaHYV6ooFoBBqPTkYz0GloAVqELkXXolXoHrQOPYleRG+g7egLtA8DmCrGwMwwR8wTY2HRWAqWjkmwuVgJVoFVYbVYI_zT17B2rAf7iBNxOs7EHeF8DccTcC4+DZ+Ll+Hr8V14HX4av4Z34L34VwKNYERwIHgT2IQJhAzCdEIxoYKwg3CYcAaunS7COyKRyCDaED3g2ksmZhJnEcuIG4n7iCeIbcROYh+JRNInOZB8SdEkDimPVExaR9pDOk66SuoifVBRVTFVcVEJVUlREakUqlSo7FY5pnJV5alKP1mDbEX2JkeTeeSZ5GXk7eRG8mVyF7mfokmxofhS4imZlAWUtZRayhnKfcpbVVVVc1Uv1fGqQtX5qmtV96ueU+1Q_UjVotpTWdRJVBl1KXUn9QT1DvUtjUazpgXQUmh5tKW0atop2kPaBzW62kg1thpPbZ5apVqd2lW1l+pkdSv1QPUp6gXqFeoH1S+r92iQNaw1WBocjbkalRpHNG5p9GnSNZ01ozVzNMs0d2ue13ymRdKy1grR4mkVaW3TOqXVScfoFnQWnUtfSN9OP0Pv0iZq22iztTO1S7X3ardq9+po6YzWSdSZoVOpc1SnnYExrBlsRjZjGeMA4ybjk66xbqAuX3eJbq3uVd33eoZ6AXp8vRK9fXo39D7pM_VD9LP0V+jX6z8wwA3sDcYbTDfYZHDGoMdQ29DHkGtYYnjA8K4RamRvFGs0y2ib0SWjPmMT4zBjsfE641PGPSYMkwCTTJNVJsdMuk3ppn6mQtNVpsdNnzN1mIHMbOZa5mlmr5mRWbiZzGyrWatZv7mNeYJ5ofk+8wcWFAtPi3SLVRbNFr2WppbjLGdb1ljetSJbeVoJrNZYtVi9t7axTrJeZF1v_cxGz4ZtU2BTY3PflmbrbzvNtsr2uh3RztMuy26j3RV71N7NXmBfaX_ZAXVwdxA6bHRoG0EY4TVCNKJqxC1HqmOgY75jjWPHSMbIyJGFI+tHvhxlOSpl1IpRLaO+Ork5ZTttd7rnrOU81rnQudH5jYu9C9el0uW6K8011HWea4Pr69EOo_mjN42+7UZ3G+e2yK3Z7Yu7h7vEvda928PSI9Vjg8ctT23PGM8yz3NeBK8gr3leTV4fvd2987wPeL_ycfTJ8tnt82yMzRj+mO1jOn3NfTm+W33b_Zh+qX5b_Nr9zfw5_lX+jwIsAngBOwKeBtoFZgbuCXwZ5BQkCToc9J7lzZrDOhGMBYcFlwS3hmiFJISsD3kYah6aEVoT2hvmFjYr7EQ4ITwifEX4LbYxm8uuZveO9Rg7Z+zpCGpEXMT6iEeR9pGSyMZx6Lix41aOux9lFSWKqo8G0ezoldEPYmxipsX8MZ44PmZ85fgnsc6xs2Nb4uhxU+N2x72LD4pfFn8vwTZBltCcqJ44KbE68X1ScFJ5UvuEURPmTLiYbJAsTG5IIaUkpuxI6ZsYMnH1xK5JbpOKJ92cbDN5xuTzUwymZE85OlV9KmfqwVRCalLq7tTPnGhOFacvjZ22Ia2Xy+Ku4b7gBfBW8br5vvxy_tN03_Ty9GcZvhkrM7oF_oIKQY+QJVwvfJ0Znrk5831WdNbOrIHspOx9OSo5qTlHRFqiLNHpXJPcGbltYgdxsbh9mve01dN6JRGSHVJEOlnakKcND9mXZLayX2Qd+X75lfkfpidOPzhDc4ZoxqWZ9jOXzHxaEFrw2yx8FndW82yz2Qtmd8wJnLN1LjI3bW7zPIt5RfO65ofN37WAsiBrwZ+FToXlhX8vTFrYWGRcNL+o85ewX2qK1YolxbcW+SzavBhfLFzcusR1ybolX0t4JRdKnUorSj+Xccsu_Or869pfB5amL21d5r5s03LictHymyv8V+wq1ywvKO9cOW5l3SrmqpJVf6+euvp8xeiKzWsoa2Rr2tdGrm1YZ7lu+brP6wXrb1QGVe7bYLRhyYb3G3kbr24K2FS72Xhz6eZPW4Rbbm8N21pXZV1VsY24LX_bk+2J21t+8_yteofBjtIdX3aKdrbvit11utqjunq30e5lNWiNrKZ7z6Q9V_YG722odazduo+xr3Q_2C_b__z31N9vHog40HzQ82DtIatDGw7TD5fUIXUz63rrBfXtDckNbUfGHmlu9Gk8_MfIP3Y2mTVVHtU5uuwY5VjRsYHjBcf7TohP9JzMONnZPLX53qkJp66fHn+69UzEmXNnQ8+eaglsOX7O91zTee_zRy54Xqi_6H6x7pLbpcN_uv15uNW9te6yx+WGK15XGtvGtB276n_15LXga2evs69fvBF1o+1mws3btybdar_Nu_3sTvad13fz7_bfm3+fcL_kgcaDiodGD6v+Zfevfe3u7Uc7gjsuPYp7dK+T2_nisfTx566iJ7QnFU9Nn1Y_c3nW1B3afeX5xOddL8Qv+nuK_9L8a8NL25eHXgW8utQ7obfrteT1wJuyt_pvd_49+u_mvpi+h+9y3vW_L_mg_2HXR8+PLZ+SPj3tn_6Z9HntF7svjV8jvt4fyBkYEHMkHMVRAIMNTU8H4M1OeE5IBoB+BZ4fJirvZgpBlPdJBQL_CSvvbwpxB6AWvuTHcNYJAPbDZg0bDX7Lj+DxAQB1dR1ugyJNd3VR+qLCGwvhw8DAW2MASI0AfJEMDPRvHBj4sh2SvQPAiWnKO6Fc5HfQLc5ydNX0IPhR_g0VG3AOO32OTgAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAKxdJREFUeAHtfQmYFFWW7onIqMqsfS9WQUVtUQQUFAQUcAERcEHFpd3tN2+m5+uZN+9N98z06+nn1_b0TM8409P93tc983WPW7cL7lqoCAqILIWAsogNCIgsArXvlXu8_9zISKqKWjKz4kYteeP7IKoqI2_c+0eciHvOPef_NZK4rZt3ri8vryTXMDO97WEzI0PTPZm6bko8pWo6DRAIYIw+IxAKeHzh8Ilg68ytW1vwp6iMoWtONrrn1mvPiZiRK3XSZug6XRKN0jhNo2IyyYvzGBqZHmUdTiKevm1ppAVNMiMa6c2wjVOk0UH8_lkkYlaGteDn0yt2tDmBTr8NZNXCS4vPyShcZOr6ciJzlsejl2boGkVhCVHTFHvuKDrvRH9VGwoBgQAMxNpjh9uNPHgS43YjfzQSwg_7TVN7N2iGV0yvqPy0P5ClbCCbYRh53sLHdF37jqHpF2noYBhWwUahNoXAgCGAO9rAvWjAatrD4Xa8Yd6NhKO_nPLOpo9T6VMqBqLtvvXqe3XN+JFX1ydGYBBsGGpTCAw2BGAnBJ+XQpFoAPfp821m8KczKj75Kpl+JmUgn94ye3SmRv_i0T338ReVYSQDtTp2wBDAzeqDofgjkWORaORvplRseTHRviRsIDsWzZ7py9R+5_V4LvXD+1YuRaIQq+MGCwIedlbMaDQUpSf3Har_++V79wb76ltCBvLZLbMWYzr1tKF7yoIRKdG0vvqpPlcIOIKAPe0KRMIvGDX0pxdv2oQoWM+b3vNH1ic7l85Z4tX0F3RNV8bRF1jq80GPAMeQApgB+QzjvmAJPfv+gsk5vXXa09uHu5fMutow9Jc9ul6k_I3ekFKfDTUE+H72GZ6JWXrmyPmTZ7zzyhdfdBtp6vENsmvRvLEeQ38G4bISZRxD7fKr_iaCAL9JvIb+6MXBk9_v6fhuDWTdvHmGnhH+pVf3XBSKdGtYPbWn_q4QGDoI4NYO4U1iaOaPdy6eMb+7jndrIEW54QcyPPoyEa3q7lvqbwqBYYIA+yQIPmUZhvFv+2bPzus6rLMMZM8tM0YYHu3H4kD18uiKl_p9GCIQxCzJ6zGmBku1P+86vLMMRDON7_o8+rnK7+gKlfp9OCMQxqsExvAXuxbNGNtxnJ0MhN8epqY9FuL3jtoUAmmEQMSKao3SPBkPdxx2JwPRtIw7vIZnDB+sNoVAuiHADrvuoQe+XDQj3x573EBevusuT9TU7rY_UHuFQLohwC8GLIhfFPBkzLXHHjeQC4JHv4Vl+GkhzrNSm0IgTRHI9CD7Sqel9vDjBuKJGrO8Hj1HuR82NGqfjghwcAoOxuztS6dl8_jjBqJr5tUJZS6mI2pqzGmDAEezYAfnZ+qZE3jQwkAex8o5Zl+XRlUOe9rcCGqgPSCA14fh0X16VLuIjxAGssBbnY+S2dEqk70H0NSf0woBLtmNkHYeD1oYSJaWl4_3Sr4iVkir+0ANthcENE0fwx8LA_FkaD4NiY1q9aMXxNRH6YMAnBDNNAt4wMJANM3IxF_Ez+mDghqpQqBnBDCbEjErYRSmbmZYqSg9f0F9ohBIRwTUWyMdr7oac8IIKANJGCp1YDoioAwkHa+6GnPCCCgDSRgqdWA6IqAMJB2vuhpzwggoA0kYKnVgOiKgDCQdr7oac8IIKANJGCp1YDoioAwkHa+6GnPCCBgJH6kOHGQIQKwoEoGMV4cKUE0n3WA2WZElMcj6OzS7owxkCF63aDgMQ9DJd96F5J3wLcooKKBwcwsFDh+gwFdfkvW5urROXFqFohMoutSGGY2wvAX5JlxMpXc9SAVXzSI9k_VRrc0Mh6hpRyVVv_wcte__nDSIxkBY2P5Y7VNAQBlICqC5_5UoRUNhyigbQcW33k2lC28lPfts1n7NyKCCGddQ3pQrqWbN21T3xksUOv0NaYZBqG9wv9vD4IzKQAb1RYSfgbeCx5dDRQtupfI776fM8lF99lj3+ah86XIqnDWfqt94kRo_qKBIczPpGRn4rvJP+gSwwwHKQDqAMZh+ZD9Cg2RY7vTZVHb3I5Q7cVLS3cssKaMx3_kLKrruJqpa8Qy1bt2IKRqKSdW0K2EslYEkDJU7B1p+RkQ44KXLH6Ki2dehrK1_06Ps8y+ic__uZ1S_aR2d+vWTFGlpVFOuBC+nMpAEgZJ_GKZToRAZJaVUvOQuKl18B3lych09bdHs+cInOf3U_4Nf0j+jc7Rjg7gxZSADfnEsP0P3ZlHBdTfTCESnvKMEX4CUnuVeNo2qOfKFqZbyR_qGWBlI3xhJOyIagZ8BipmcqVdR2T2PUt6kqdLOZTccDQQ6Ly7aH6h9twgoA+kWFrl_NE2sZ4Qj5B1_PpXe+SAVz72RyOPOekXd2vdEZExHSFhtfSOgDKRvjBw8IuZnFBZTEXyM0qV3kpEn2GUcPEf3TQVOn6TTLz1Nzevewyq8uuzdo3T2XxVSZ2Mi5S+8nqF7vVQwdwGV3_UQ+caOk3Kero1G29uo+t3Xqe7tlylcU6XWQroC1MfvykD6AKi_H5ucUIgtZ9IVVHbvI1jlnt7fJhP7Pnic6jevpxqsf_gP7xdrH3pGZmLfVUfFEVAGEofC2R9ME1TgWOzzjh1PJcvup+Lrb0Jo1Z15f+uBL6gK06nWHVvIBOGyDl5AtaWGgDKQ1HDr5VsxP6OgkApvWkZlt8DPgM_hxhbEFKr6tT9Q44fvUqStBYaRIfKw3Dj3cD2HMhAHr6zwMzCNyZ+3kMqxCp6FKJUbW9Tvp5r336K6tzg58aQwCvXWcAZ5ZSAO4CgKlzDnz7pkCpXDz8i_fIYDrSbWROPWj8V0yv_lH+FnoGBK+RmJAZfgUcpAEgSqu8NsPyNz9Fgquf3bVHzDYtRnuDPfbzt0wPIztm2MFUi54990h8Nw_psykJSuruVnePLzqRBp6GW33UMZRSUptZTsl0J1tVT1JlLYV7+NFPYmEbZVi37Jopj48XEDEXUHvICkCmt6RU_4GcApD1m25fc+StnnXdDr8U59GA0GqO6Dd6jm9ecpdPKE5Weo6ZRT8PbYjjCQCU_+lho2rKUmVKGFGhvUYlI3cNnlrlkXXYq8qYdR7jqnm6Pk_KkR4drql56h9j_uFmnqys+Qg3N3rVpvkAkX6yMnXGwUzV9IVS_+F7WgsEYV_ltw2X5GxojRVHz7vVR64xLSfVndYen43_xfH6bTWOhr2fIRUuGDImzr+ElUg70iIAwEgtDMHRPOOneCMR6FNV0jI+lZgRbzM3JzqeCGJVR2+32UWVreK5hOfRjGW7z6rRXUsOoN4p+5VFb5GU6hm1w71huky3dE4f_kaVSzimPrKyhUfQoXiQ9NjyIb6+3podyZ19KIex6h7AsndkFIzq+88l63bhXVvvp7Chz_WvkZcmBOqtVuDYRb0LOyqRxTikJUoVXhgjWtXUURf9uwfpLZfobvgotRB_4wFV49Nykw+3Nw867tVP3iU9S6d5doRvkZ_UHTue_2aCD2KTLLR9LY736fWrA6zPk9bTs_IZMFDT19ftVuYtDv435G2UjQ6iyn0ptuEw8INzruP3GUql5+lpo__pA4UqWmUm6gnvg5Er7Lcy+ZTLn_50mq+2gN1bzyHAWOHsYUwIOoijuFPokPKZkj4WfEaHXywTVVfucDoNUZmUwDKR8bxhpGzcrXqP6dVylcX6v8jJSRlPvFhA1EdANVb8WgkMmffjVVv_0KNbz7GpzI+iEZFmY_g2K0OuXwM3IuniQXabt1pL_XbfjAesh8fYg0YKqmUzY4g2+fnIHE+m_kF9Co+79DRdfegOnBM9QMOpmhEobsTKvzCBXNmefa4mjz57uwngE_Y_d2wjxVGcbgs4ezepSSgdit+MadS+P++nFqxFul+sWnrYWsQcsHa4VtDZCpldwCP+Pm20HfmWsPRerej5Xv6ld+T80b3kegww8_g2FXDIdSQXeo8X4ZiN2HgitmUt6ll1PtmgqqfeMFCp0aTHywtp+RRYXXL0G56wPkHTna7rrUfaS1hWrfe4PqKl6mUE218jOkoi2ncUcMhLvG9dZlS+6kAoRGRdHOmnesop0B5IM9Q6szg9jPyHWBVkdcJjCw129CuSumn_6vDqhyVzn3riutOmYgdm8FH+yf_BUVzbsJLBqYb4uyz0hsWmEfJXdv+xnecROETEAxfCW3aHVa9+0FDy7KXT+tlF7uKuiDUFLL_gzCiaIeJD2zHuTdT44biN3V7Ism0nl__89Uv3EdnqRP40n6pXiSyr2AMT8DqedFi++k0iV3gFYn3+6S1H2w+jRVody16cP3KNIut9zVXtDMgD+VOfZc8uTlEU_ngsePIuvhNHBmYxnK4XeplyqpxqUZiOgFnmpF11xH+VdcRdUc818J6hnUM8ig4RfrGTatDspdfWNcotXxt6PclbU4XhQpOazFIa_ctYNOyNK7qBCLt_zGtrdwQ51YpxLpQUoXxIalX3sRSgma5nRYSiV+kfrY8X9z3AoLYx3AqVVjUe5KJuVcBlodyATkTZnWL0CS+XJj5QZkF8DPOGiVu8p7ascCDVk5lD__pj4XNIO11THyBviBLXibDaAfmAyeg+VYH4i924LhZyZXbHpEGEjrwYPTfOPOqcSCldw3SgyBM3lHO_EXDWkrydtlnL7znHOp5I4HqBip+vz0dmNrO7jf8jO2bcJKvFz_SuiEeMDfe_lMkR+WO_GyhIfYhjp1Tpdv275ZleUmjBrRWQaye_GMaVmTLq8ccc9jRt5Ud4jNmOqfeWJrMW8PIh8pcZmwmJ9RUESFi5hW5y4yQLHjxhasw5P5dZS7IpwdaZGr2GQHGliosxRMjEVzrkOoMLVsai5fqIahtB_Am84D3UJVNdrr7XK2gdw2Z5oZDFUaXp+Ri4iPoMYcc06vjTj1Ybi+TtRYN4C2xq6x7n4RjacZUHdFmWkeMozLkW3rw9vDjY0Z0es+WGmVu0pf44k9AIqhEwI_o+TmZWTk5vV7mFH2lUBBWv3CU6j8CaI9tVDZE6gdDSQ+J+EsUn5qNa5ZSa3bt1ARNO7KEAVyWsSla6eMomIa_cifU+G1N1rTFpw7GvDHrl_sIiKMyW+YbKbvvPsh0Opc1bUZab83YXpSteJZkSWA0JAwUDkns_wM1gkpnH8zlWFB0we2FKc2roIsX_Zt8RDiZFOVNZwYsnEDEYcj6sRP6EgTKtqe+w1SsD+g0uUPIxI1Hzdsaq_3xLpBlD0BMmE__Edq3fc5NW3bLBbYhIOJC+sddx7lTZtJ+Sjicms9o_3IQRgGl7tuEBm_Mm8oXtDkdYycqfIXNPNRBFb35ktYO8H6iXqL9Hl7djaQ2OEcjeF__iOH6MSTP6aG9VdjJfoxysHahuyNs2rjmbWxBTDZ5+zYPodKrXLXNync1CgiQLKMw_YzvOPc1wnpOGb1c88IdGsg9uFWUp1JLZ9spPbPd6I2ezGV3QEp4g6xd_tYKXs8Vd3aOBu5_sNV8DPOBA3kpaHH_IxCXtBknRBe0HRHJ6QJoemhknnt1rXv7Ty9Goj1RUy7wA7OfgEvQDUjIlKKuWwxs3uw1t0w2Jp3bkMaOtJD9sbCzhL5pgSvFtgXC65fLPh73dIJibS1UnXFq1SPf0pAJ_GbNgEDsRrj0KCGGydUdZpO_uZfMe1aDb2LR6ngCvd4aBMfVmJH+o99HatnWYuFS7m0OvaCZvakywXhnKs6IXbi5OEDMA5ec5LrTyaG_tA4KmEDsYdjL+oxidnxJ35AjRxyhSPPtSFDZQs3N1INKiLrEfZkn0MmrY5d7y50QlDSW4yVcLcWNFv3QycEgYbWHZtjiZOKvzfZezRpA7FPIBxXREIaQVPT+tknVIi5NKe7c7XhoN243LVLTb10P0PohNyOBc3l0AkpcgUaTpysBkWp0gnpP9wpG4h16lhYuAVP5Bd+K5g5SpEo6GZ6eaIQtCDIwKyRrXs+RYgTkwzZfgbaL4jphPhc0wmJJU6C3DpUdUq8qeQlTiaK_NA+rp8GEjMTMJsww0ng+BH65hc_EW+VMi5QAhPKQG9c7lr18nPUsmE1RQLtIuAgq0+WHiHrhEwWiZMFWLtxaxNsmJhO+SG_pnRCnEPdEQOxu2NxZSEs_OkWav9iN+WjVt1NKh27H7yPtDZTzTtQd135CoVra2J+hhztDtvPOKMTcrNrEb62w19aOiGffKwSEjveAA797KiBWH2ywsJmOADOp9fEGkox9DMEGZsbpM9c7rpxrVXuitVwXvCUN52y1jM8KMoqBK9W2a3QCSl2UScE9f8icVLphDhkDmc3I8FA7JNYeUvhuho6_btfUeNHH2A1HrIBM66xD3B83_LHPSJrtfUzLncFrY5EdVdLJyTD0glh_t7zL3R8PN01aOmEvCsWNJVOSHcIOfs3y0CQeh6F4+qRUFgTT1tBbcLxf_wh1V91jSBQcPKGCsIhFfzBiKhF2lthGKzuKmcV3i53FToh0CMsuHK2s1ekl9aaUOfOBVrtX4C_V2riZC+dSLOPhIGM+l8_oVaskLds5TSEEG4w518sdtpK86a11LZ7GxVAuozJsfsjXRZtawMDPWh13gatDkKbzEAv661h+xmsE1KCfpcsWAomF58rt0s7dEKsxEmlE+IK4B1OIh6zraZ5JS51Zcv2zXoV6gXaD+wVkRB++svY4jcb0rlLl90P8Us4tUmFXU1q2PyRmE75D+2X2leOCfNDg9P+C5BeU4Y0G7dy0cIN9UicfJka3kfi5BCleJVx_8hus2M9iDAQsLVPwwxrK37xcM6VRUIAArhYLF1WBdoZ+eTLhH+Sf8XVfY697ct9gk6oDXRC7pS76pQzfZZID8mBLIIbmwlC7bq171MNZCeCJyydEFnXwI3xDLVzdGsgGEQl_sXnVoLG5lXQ2Kx9Nz6vl1U_IBxevEFyZ8yh4pvvEOnuneSUEZlqwzSjftWb1Lge9J2ulLtGyTeBdUIeosJZ81y7xmfq9WM6ISnU67vW2WF6ooQMxB47FzBVMQHcp1sl64LEKuoyvJR5znjyjp9AOqY1ZiAoFiCDYEKPtLWgptqQVlNtT_2M0hFUctvdA6MTshE6ISjxlVWDYl9Xte8ZgaQMRDTDawuoLqyG0EsgRtkvTxcEhsJsgSj_jW8csRFZqHIiU8LPYJ2QBGl14v1y4AeROFkBzjCWkojphMh6UzvQ3bRooqOBxKdUvY4cbBpFcxdQHkiquaaggUVfYlmwzl9MLDTytMKlqYVFq6NT7vTZIj0kd+KkXqFw7MO4Tgg_dCBGhPEmF6hwrCeqoV4QSMxAYg0wjeeo+x49owvC0wHJdRS99L1fH9nlroJWh+vukbafKq1Osh1pgQ6hSJzcvQMvL6UTkix+bh6flIHYHeMquHH_88fUxLrqqMRr38sC9+CDdempb_cjtb1F32mUMK3OcioBt5YBqWc3tgAog6pYJ+QjFkTlxEmuz5A1bXRjRMP_HCkZiA1L_uUzKBe6IHHOKGTOJk4AZ7fi1j4WBGBaHeiElKF4yTdqjCsnZ2LpGtYJwYJmGLSgVoGWnMRJVwaURifpl4EwThyOLQW5Wf7Ma1CkE0ueww0xmJ6OcVodGHQ5+Htd0wlBQVlcJwTlrnITJ9PornVxqP02ELuvmcVlNOY7f0mFc3nahbAwCNe4PkJG2op9zr72ws9AHzhkXAoitmIEGtzyM9zUCekLB_V56gg4ZiB2F3IuvJjO+9HPY09O6ILEnpyy0lbs83beW+khhtAJAa0OlwK7qBMiFLZc0Anh8LSJEDzr1gsfUHD3Kp+m873Qv98cNxDRHTjsRXPmgyL0SsEHyxp9dtGSbKdUrMqzTgiXu4L02ecSx3C0HYmTrBMC1sJQtdxyV7GgCTZGjy+bMkrLhRhpFFnMYeggsniPzMXU_t1uQ+_bcgwkhgMn+I2460EqnHM9yl6fpSaUvXKul4yMW4tWhyydkHseHVCdEHnrGVaggQ0jf8EtVHTjUspC1gHzkzEZHOuv1INku_GDmD6kipL12yLF+7hjsmK_W+ylgWYQJlS_CP9kz2fiKJtCqJev9PmRnR7ihRRZiaDVWYBImjv0NqwTchph7rbtLuiE4I3B06gcLNayIGmcnrUbhNoOIqETOLeB7icajg6oH9hN9wb9nzqupAsDCTY0TPMUFHwCOjHpjGImJAzqUNjEDOPJ6YJ0xTXmZwidEKbVYZ0Ql2h1WMEJkmsDohMCSTsulkpka9i8XqQH+WEwTOTgrh+YSA8H5zEdDUQUfNx19NPRwSOHHwOLum7kyxWj4QvFTO6F19yA3GGDgkiziGD+zsIuifon7Gfweks+2hjzP_63WNlnen_ZGycR1kLH5MSvfiaidAQH2SKqkOEYxx4AqHFnAZ0x3_0+ZSMAgtdIwsNk_RROEdLBxxU4egTSB41J4ZzwiYbZgQZEUEOR6M7fHDj2lkCbFaYQsq_MLCo2ChHxKV2KqE+uO+qwQmbgxaetakYWyOllehSvH7l0sphm8EKlW1sjwtbVXO66bw_uUTyNJWYNWIEGH+Xh5h6B8LR3VP91QoI1VcIPbFxdAchQ_aNW8Hu8dTq+QSwDgcKUBgPRKGpwEZL33AlUJnRBrndt3aARDPKctuJH7To_mfFoFg9LVkDAgooYTObocVTCxNnXLRILlD2O0MEP2iEBUfUy64RwuSuXI8vzb3hBk_2MbOigsJ+RCx5fp7djv_onalj9ltRxON1nt9vraCCdo1iCIgcEcEe_ouP_+jg1QEOwHATVvTmETnW+4Ko5iDxdSY2VH1MTauODx74ilg3TEKHJHDkW2bazqHD2XFCbyp0C2uNxVScEDwBeVPWeA50QRP2K5t4o7Q1VBK4yLoJTbxH7Sve+72wgsWPjBHCIgjCDRj50QcpZFwQxd5mbjvWLork3iH+cJWyGAiIi5RY5Ao+tO3FRqWFbvJUM1glBuo6Y2krmNhZY8oJix3obmRd1iLfdrYFYY4rpggRBAIckuxawnpQsu49KbrwFbB7ydUFEyS3yvNzc4joh4PHl+Z08w8D9iUADr18UXH9jTCdkvCtDbdm93TGNelc6PMAn6cVArJ7ZuiBhOHmn_uPfUBMOXRDMjwsw5Rkum__YEeHAMiWR7PqWTjohvKDpkuw2153Ug9m+FgmlMgMMw+WesMfRp4HYB3IMnf+1o0b9+E__lhpBZMCOpA8Cm0N1C7NYKVdIuqgTkjlmPJXeeT8VQSeE097d2FpBaM0BkFYwwbChqPWQxFFP2EDsJq0ojgkq0dXUCumyQrCQiEU6yXNn+_yO7LncFf2vQfFS4CjKXVHvLm86ZS9oFoK_9zbw997trk4I8_d2TD1JcJHREZyHQSNJG4g1Zmt+HmltopoXf0fNKL0VuiCIvrhVS54q9i1Ic6lagaepC+Wuws8AnVE+1jPK736YslzXCUHiZNVJsagqI_8t1WswlL6XooHEzIR1QTIQFga52YlfPBEPC+deOmXQYRA4eRx+BspdP4ZOiCh3lRcA4JAtp6BnXTIFRBAg7HZTJwQqtsw+0650Qhy5B_tlIHYPrLAwYcq1lY7ugy7IvEVINX+AMkeMsg8ZsL0od4UMQ10FdELANC+z3NVOnMxgStXbsaCJ8HgnAjyJKLQdOmC9GbHgykwtMhc0JQ5j0DXtiIHYo+LXONNm1r_3OrUgw7X4FpCvLbqN9Kxs+xD39hy1+fhD+BnPomjrSxG5ke1nCJ0QpKGX3QZSbjd1QiC51rj6beRaNcUeAO44_+5dzIE7k6MGYg2jgy7IU_+XGjesEdOMwqvnujZKiw0SfgbrhEDXQZ5hxNYzkDiZN_s6EdVzUtahN8A4HF0H57vm9T+Q0gnpDan+fSbBQKwO2WFhP2omTvz8R9QAHY1yxP05k1fW1q1OiCfx7Ndk+mXrhPguuhTjgp+BVBm3tsYdlUicBN0SpLh5nUrmA8CtMQ3W81gGAp2NKKItHt35V3NcF2TzempHwVQ+quDKoK+RWVzqGCai3BXE1rVvrkDZ6WmpUZu4n2HrhGA8ug_iES5sftYJQeJkM6QfuIJQ+RnyQRcGUnrfn1HL559QAIuAnGLh_EJSLCyMuo866Hc3b1l_RhcE6RYpb_AzGpBlW70CfsYhqyhI3tMU6xnM35sNnZDFrBNyn_TcNBsX1gYROiEQCwo3Nig_wwbGhb2YfzSa5lW5wcCmujUVRs1r0AU5_Y14CsvSpBBhUNQkZE3kuo6HKR9lpMlulk4Iyl1FWalceiE2DE7PEDoh4NXKuWhist1N6XhRfbkW1ZeQoQieOCL1mqTUwWH6pY7p7sJAuCYdvuwnKKTSgygnFXp_H7AuiFwCOHshLZfTVpY_lNBCGvcvTlAHOQRrmiHTz4jEdEIeJhFowBvWjY11QqpQSNa2l+v3cWEkFmi5MZ6hdI5uDQQD6CSg07qf83dAsACHkLmX5BHAnUnFKECItARyyt5uKEFD9XVItluN9QzoEYLjVibFadzPKBtBxUgNERLWLoWq_cePgr_3WSxoMjG40gkZCMNKyEBEx8RawlqszD5NgZjmuPP+iQWBuClRUWcUFJPvW5MoC3JnRkEBRHNahTxA2xe7rbQJqeQDMT_Dl0P5KCwqB0tKZvlIV65RGGsYNUicVDohrsDd60kSN5BYM2FIntVgNbqeV6Mli7xYhoISWxinKJvmklts7APIMk5u39IJAa3O5X3T6vDxjm0icXKN0CMMHD1kjRMpPGobOAQ6GkhC6yBGbh6NRE5R4TUggEPEqBlqU7Je_6L+xEiM1sYJCDvphIA9pAhj5EieG1sLCrM4cbIN_gbnbqmEQjdQT+4cCRmI3aRv9Dk07q9+RM2oZah66b+o7fNduJeGii6IPQp7H_N9SsqomJlcFt8hpJ7tT2XuA6dOWImTGyBIGkucdMckZY5qeLadlIHYEHAVXO6kKVSLSFfNa7+nECgvZTrN9nmd2kfDQfDask7IYnd1QuBPianqylcoBB5dmYmTTmGV7u2kZCAMGtN7lt50q0ixqHoTRTkgbpYtz9zfiyVodeDY5EyFToig1Zna3yYT+z4HOzatoxoEO_yHD8KXUukhiQE38EelbCB21zlrdcyj3wO74QLw1IIPFgRrVrp1v5u2T9HvvWnT6ow7H28Mi1bHrcKuM+WurJfCfobz6Tz9Bkg10CMCjt3F2Rd8S+iCCD7YFc8g9WO_eFLKjDz1OKr4BzE_g3VCUBosaHXc1Al59ffUiJVwe8FVM5SnEb80Q+QHxwzEHm8hVsXzp0IXRGjyrYjPta2YrX2U_L1YpWedEC53xSq9b8w4+SfFGUTiJGoz6t6QrxPiyoDS_CSOGwjjqWfnCKK5AtRIsKpr0_pVMV0Q+dMLm1Yn57IrQE80XHVC0vyudXH4UgzE7r935Gg653t_g7DwQuiCICy8+1PxkQxeJjs9xDt2fEwnZKEIJNh9kblvw3SS86ZahU6IKneVibXbbUs1EHsweZOmUt5PfkG1696nWszLA8ePYMXYEMU+9jGp7+1criIqXMQ6IcuRouIOf69InBQ6IRzBQ+IkeK6UE576lRyM34wbCPjU5a5fwyBKQGJQcOWss2obUvVP7GzgfLyhRoCN3i0SO5aRE+WubzyPclcrcVJeHcpgvG3Sp0_CQA5999uUM2deuHTJcsOQTADHKlCjHvzvVHjtDYLtrwU0NeJGTyL8GafVAb0Q657nXzEQOiGfI0pnFYKlz+2SfiMVBtJ2dB+1_uEQcqzWUQno94tdIIDLggbJ+L_9KTVu22QJ0+znG653mTDbz2BanbJlD1DR9e7phLR9dRBZzawTkrxBp99tNXxGbE2xMrJJxxwrcPxr+ubfnwBB9SpEgB6j3Esukz7SApA55EEwRkgoYz7P1YxCPEdIslmn53oUQtarh_UIF4JWBzUaGVjbcGOzdULqV71FEXD5Kj_DDdQHzzniPgh3iTlqWZ2r5dNK6ILsca0mgjUryuFc8xpK3Zp3wKm1GbUf30AfhEtdM8goKaXsKdPhwywh3_jzXEHP0glZRbXINbPFRpWf4Qr0g+oknQzE7plFAAddENSAtHwCArjb76FSVPrJFspkgZ6R9z5CtPxBCjbUWWsnYFsxIELp5s3ZvBPlrpytvHcXIFF+hn1fpOO+WwOxgLAJ4Krp9G9_SU3QlhC6IG7wP6E4KhNp6G5v_mNfY2HzOZBxc72LotVxG__BeL5eDMTqLudS8T8mQz7+sx9Sw8xrRSYsO9nDZQs3NVrlrnhjhhvrlJ8xXC6sA+Po00Dsc1gLYCY1oZqwDTJehQuxKHcbL8oV2YcMuT2Hi+vWQ3Xp1WeFcKlcnZAhB4_qMBBI2EAstKz5uGBMR21D82YrLFyChTq30sedumote7jcFawtu3agSbn8vU71WbXjPgJJGojVQVu3MPDNMTr5y3+gxnXvUdm9jxGnlAz2jXVCTrNOyIbVCAK0qzrwwX7BBrh_KRmI3WebzKx11zahXZg_D1Q50AXhJMXBtlnMLK9TPcpdLZ0QQxnHYLtIg7A__TIQezyCjQOcVg3gjm3ZvpFKbkFY+ObbB0YXxO6UvcciY_3GtZZOyFfQCUHAwc2Qsd0NtR+aCDhiINbQY_4JGBBPPx3TBUHdt5u6IF0vQcsf94DY+pkzOiEQ+FGbQiAZBBw0EOu0dljYD0kwoQsynXVBHiEuyXVrC0K4sgqEz03ruNy1VaSga5J0QtwakzrPwCDguIHYw4jrgmxZT217tlPBjcihWsa6IPIWAEW5qyj1BX9v9WlMpZSfYV8PtU8NAWkGYnXHmnZF_aifgF53c+VH0AWxxS37oQvSzViFTghUl2yyCOVndAOS+lPSCEg2EKs_dlg4dPoUnfz1k9SwfrWYdjlRx9F2cB_ohkDfKeiGWCdEft170iirLwxZBFwxEBsdOyzc_sUuOvbEDyhP6IKgEjCFDF1LJ+R5alyzknjh0kpDd3U49rDUfhgjMCB3lHjKm1HUnbyPCNNWK23lVqStIGu3r43LXWthFLWvn1HCUtOpvlBTn6eKwIAYiNXZzmkrTZs+pBLoixfNWwAdwJyzxsP1Gc07tlA1sm3b9+8V1YfKMM6CSf3BYQQG0ECskdj+SfDkCTr5m3+BgtQr0Oi4irIunIg3SiEEdNrI_9Uh8aYJQKjTojVVfobD94FqrgcEBtxA7H7Z_gmX_QaOHkadEurTsXaBmRjoCiGow3rgqHhUTriNmNq7gcCgMRB7sMJQOghWCrGlDr_bx6m9QsANBNyTcnJjNOocCgGHEVAG4jCgqrnhhYAykOF1PdVoHEZAGYjDgKrmhhcCykCG1_VUo3EYAWUgDgOqmhteCCgDGV7XU43GYQSUgTgMqGpueCGgDGR4XU81GocRUAbiMKCqueGFgDAQMxQNaKQh4UltCgGFQEcErDdIJBgyNRbhUJtCQCHACEDRXrwwLAPRPK34QzvyZxU6CgGFADRykEdew0AIA_E2GY1RU2vQlH2om0MhwBpSFNX1YwyFMJCLN21qwdvjiKKOUneHQoAoBG_DNCOH4gaCH2A05k5dvULU_ZHmCLAJRExqDEbCBzoaCOwjujls8stFbQqB9EXAgLS3aZp_bGnNOcooWE46foBxVIbC0Wr1Fknfm0ONHDI3eIVomrl2_vr1YcYjbiBTV245gbfLRxmwILUpBNISAdz6_kiEXZAKe_xxA+E_hEKR50NRNc2ywVH79EIgQ4c5RM2toW_8LDsmtk4GEqkKro6YkZ0ZKpxl46P26YQAfPCIpv12+o4dIXvYnQwEH7RFzci_q3eIDY_apwsCGR6dgtHIzrrG+tc7jrmTgfAHdU2nVgTD0Y8z8QW1KQTSAgH4HtEoXg0mPTF__d6WjmM+ywrmrz_i1yn8d6FouF0ti3SESv08XBHwwfeIRM1X33x705tdx3iWgfABk96u3BSOav8snJau31C_KwSGEQK87uEPR46GguEfPI4XSdehdWsgfFBdk_FPgUikwqemWl0xU78PEwR4zS9qRtsxu_qzy1dVHuluWD0aCBZK_O2hwJ_g29u8yki6w079bQgjwO6DhhKPUIT+evLKTe_2NJQeDYS_cNW72075Q_57AtHILq_R66E9ta_+rhAYdAjwmwMrGdFQmH44pWLjr3vrYJ93_ZXvbDscDEZvDYYjH_vYSNRCe294qs8GOQLscyDZyh+MRP9ycsXGn_fV3YRv980LLy3O8xb+IsPjeZDXSeD199W2+lwhMHgQwJ3O0Sp_NHo8Ggl_b3LFlrMiVt11NmEDiX1Z37109n_z6PrjmHKNDEQ4b767ZtXfFAKDBwGDM0Nwn0ZM863mcPD7M1du_TLR3vU5xerSUHRyxab_9PvD17SHI0_jpH6OcqkM4C4oqV8HHgHYBKdMZeJfOBL9IhQOP_jK1OuXJWMcPIhk3yCdBr5r0eyZHi_9KZpZ6tU9xfwyCWPqhfeKsNhOB6tfFAKyEcDdbMABF2sbmN1gefwz_P9UbVPrH+av39mQyun7ZSD2CXcsvPqCTK9nMWnmzYidXY7y3bJMzPc4lMZTMDYc_t_a299Se4VA6gigakM83fke4w3TJwpFokGTtEO46dZrWuStpiraMGvLlnbriNT+d8RAOp5616IZY_UMmhghz2WYfJ2vadpIzYxmo_TEG6WIAW1bZScdAVM_J40A30C4r_wwhBBp0XowLBzFH_ahVGOPJ9h0cMrq3a1JN6q+oBBQCCgEFAIKAUcR+P8XBvl2AwvALgAAAABJRU5ErkJggg=='

api = TodoistAPI(TODOIST_API_KEY)
api.sync()

# today tasks
today = datetime.utcnow().strftime("%Y-%m-%d")
countToday = 0
for item in api.state['items']:
    if item['due'] is not None and item['due']['date'] == today:
        countToday = countToday + 1

# @focusHeute tasks
filter_name = '@focusHeute'
f = [f for f in api.state['filters'] if f['query'] == filter_name][0]

tasks = requests.get(
    'https://api.todoist.com/rest/v1/tasks',
    params={
        'filter': f['query']
    },
    headers={
        'Authorization': 'Bearer {key}'.format(key=TODOIST_API_KEY)
    }).json()
countFocusHeute = len(tasks)
text = '@focusHeute: {countFocusHeute}, heute: {countToday}'.format(
    countFocusHeute=countFocusHeute, countToday=countToday)
print('{\"text\":\"' + text + '\",\"icon_data\": \"' + todoistIcon + '\"}')
